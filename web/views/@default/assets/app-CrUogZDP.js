import{o as y,c as f,w as o,b as n,a as t,u as l,f as i,g as T,D as x,t as w,F as b,d as p,e as r,i as c,n as A,L as P}from"./app-DjYJfrF8.js";import{P as v}from"./app-4o4XE0Ov.js";import{i as N,c as R}from"./app-C1XH7PtB.js";import{_ as C}from"./app-DsXmtRco.js";import{_ as $}from"./app-Ci8gwQok.js";import{_ as B}from"./app-DxMBD05v.js";import{C as g}from"./app-DixtgCCB.js";import{_ as q}from"./app-tVxlBux4.js";import{_ as u}from"./app-mO6x4u2P.js";import{_ as D,a as d}from"./app-BpjMg_gY.js";import{T as h,a as _}from"./app-DHrHuxh9.js";import{_ as S}from"./app-Cq1AgKTS.js";import{_ as U}from"./app-D_zujAYk.js";import{_ as L}from"./app-0G6rzlq8.js";import{D as O}from"./app-DeStKpGO.js";import"./app-CXXoRFML.js";import"./app-DA-qpgNO.js";import"./app-DNZHd3zm.js";import"./app-DDxM4xJi.js";import"./app-CMoUOWYK.js";import"./app-By0fUdjH.js";import"./app-DYZ72m3h.js";import"./app-3rCQf5Hi.js";import"./app-C8URsP3D.js";import"./app-__35K3dS.js";import"./app-l8Q5NmGb.js";import"./app-CMrnp7LG.js";import"./app-CQoUplHC.js";import"./app-zaKueCu1.js";import"./app-Bx1vQSc6.js";function F(){N(this),this.success=this.$NotifyPopup,this.type="",this.authDescription="",this.rawDescription="",this.changeType=function(){let m=this,e=this.authTypes.$find(function(V,s){return s.code==m.type});e!=null?(this.authDescription=e.description,this.rawDescription=e.description):(this.authDescription="",this.rawDescription="")},this.typeASecret="",this.typeASignParamName="sign",this.generateTypeASecret=function(){this.$post(".random").success(function(m){this.typeASecret=m.data.random})},this.changeTypeASignParamName=function(){this.authDescription=this.rawDescription.replace("sign=",this.typeASignParamName+"=")},this.typeBSecret="",this.generateTypeBSecret=function(){this.$post(".random").success(function(m){this.typeBSecret=m.data.random})},this.typeCSecret="",this.generateTypeCSecret=function(){this.$post(".random").success(function(m){this.typeCSecret=m.data.random})},this.typeDSecret="",this.typeDSignParamName="sign",this.typeDTimestampParamName="t",this.generateTypeDSecret=function(){this.$post(".random").success(function(m){this.typeDSecret=m.data.random})},this.changeTypeDSignParamName=function(){this.authDescription=this.rawDescription.replace("sign=",this.typeDSignParamName+"="),this.authDescription=this.authDescription.replace("t=",this.typeDTimestampParamName+"=")},this.changeTypeDTimestampParamName=function(){this.authDescription=this.rawDescription.replace("sign=",this.typeDSignParamName+"="),this.authDescription=this.authDescription.replace("t=",this.typeDTimestampParamName+"=")},this.moreBasicAuthOptionsVisible=!1,this.showMoreBasicAuthOptions=function(){this.moreBasicAuthOptionsVisible=!this.moreBasicAuthOptionsVisible},this.subRequestFollowRequest=1}const k=t("header",null,"创建鉴权方式",-1),I=t("td",{class:"title"},"名称 *",-1),M=t("td",null,"鉴权类型 *",-1),E=["innerHTML"],G=t("td",null,"鉴权密钥 *",-1),H={class:"comment"},z=t("td",null,"签名参数 *",-1),j=t("td",null,"有效时间",-1),J=t("span",null,"秒",-1),K=t("p",{class:"comment"},"链接有效时间。",-1),Q=t("td",null,"鉴权密钥 *",-1),W={class:"comment"},X=t("td",null,"有效时间",-1),Y=t("span",null,"秒",-1),Z=t("p",{class:"comment"},"链接有效时间。",-1),tt=t("td",null,"鉴权密钥 *",-1),et={class:"comment"},lt=t("td",null,"有效时间",-1),nt=t("span",null,"秒",-1),st=t("p",{class:"comment"},"链接有效时间。",-1),at=t("td",null,"鉴权密钥 *",-1),ot={class:"comment"},it=t("td",null,"签名参数 *",-1),ut=t("td",null,"时间戳参数 *",-1),mt=t("td",null,"有效时间",-1),pt=t("span",null,"秒",-1),rt=t("p",{class:"comment"},"链接有效时间。",-1),dt=t("td",null,"用户 *",-1),ct={colspan:"2"},ht=t("td",null,[i("认证领域名"),t("em",null,"（Realm）")],-1),_t=t("td",null,"字符集",-1),yt={class:"comment"},ft=t("td",null,"子请求URL *",-1),gt=t("p",{class:"comment"},"可以是一个完整的URL，也可以是一个路径。",-1),Dt=t("td",null,"请求方法",-1),St={style:{"margin-top":"0.8em"}},Vt={colspan:"2"},Tt=t("td",null,"限定文件扩展名",-1),xt={class:"comment"},wt=t("td",null,"限定域名",-1),bt=t("p",{class:"comment"},"如果不为空，则表示只有这些域名的文件才需要鉴权。",-1),le={__name:"createPopup",setup(m){const e=R(new F);return(V,s)=>(y(),f(v,null,{default:o(()=>[k,n(q,{action:"$",onSuccess:l(e).success},{default:o(()=>[n(O,null,{default:o(()=>[t("tbody",null,[t("tr",null,[I,t("td",null,[n(u,{type:"text",name:"name",maxlength:"50",class:"w-full",autofocus:""})])]),t("tr",null,[M,t("td",null,[n(D,{name:"type",modelValue:l(e).type,"onUpdate:modelValue":s[0]||(s[0]=a=>l(e).type=a),onChange:l(e).changeType},{default:o(()=>[n(d,{value:""},{default:o(()=>[i("[鉴权类型]")]),_:1}),(y(!0),T(b,null,x(l(e).authTypes,a=>(y(),f(d,{value:a.code},{default:o(()=>[i(w(a.name),1)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue","onChange"]),t("p",{class:"comment",innerHTML:l(e).authDescription},null,8,E)])])]),p(t("tbody",null,[t("tr",null,[G,t("td",null,[n(u,{type:"text",maxlength:"40",name:"typeASecret",modelValue:l(e).typeASecret,"onUpdate:modelValue":s[1]||(s[1]=a=>l(e).typeASecret=a),autocomplete:"off",class:"w-full"},null,8,["modelValue"]),t("p",H,[i("只能包含字母、数字，长度不超过40。"),t("a",{href:"",onClick:s[2]||(s[2]=c(a=>l(e).generateTypeASecret(),["prevent"]))},"[随机生成]")])])]),t("tr",null,[z,t("td",null,[n(u,{type:"text",maxlength:"30",name:"typeASignParamName",value:"sign",modelValue:l(e).typeASignParamName,"onUpdate:modelValue":s[3]||(s[3]=a=>l(e).typeASignParamName=a),onInput:l(e).changeTypeASignParamName,class:"w-full"},null,8,["modelValue","onInput"])])]),t("tr",null,[j,t("td",null,[n(h,null,{default:o(()=>[n(u,{type:"text",maxlength:"8",name:"typeALife",value:"30",style:{width:"7em"}}),n(_,null,{default:o(()=>[J]),_:1})]),_:1}),K])])],512),[[r,l(e).type=="typeA"]]),p(t("tbody",null,[t("tr",null,[Q,t("td",null,[n(u,{type:"text",maxlength:"40",name:"typeBSecret",modelValue:l(e).typeBSecret,"onUpdate:modelValue":s[4]||(s[4]=a=>l(e).typeBSecret=a),autocomplete:"off",class:"w-full"},null,8,["modelValue"]),t("p",W,[i("只能包含字母、数字，长度不超过40。"),t("a",{href:"",onClick:s[5]||(s[5]=c(a=>l(e).generateTypeBSecret(),["prevent"]))},"[随机生成]")])])]),t("tr",null,[X,t("td",null,[n(h,null,{default:o(()=>[n(u,{type:"text",maxlength:"8",name:"typeBLife",value:"30",style:{width:"7em"}}),n(_,null,{default:o(()=>[Y]),_:1})]),_:1}),Z])])],512),[[r,l(e).type=="typeB"]]),p(t("tbody",null,[t("tr",null,[tt,t("td",null,[n(u,{type:"text",maxlength:"40",name:"typeCSecret",modelValue:l(e).typeCSecret,"onUpdate:modelValue":s[6]||(s[6]=a=>l(e).typeCSecret=a),autocomplete:"off",class:"w-full"},null,8,["modelValue"]),t("p",et,[i("只能包含字母、数字，长度不超过40。"),t("a",{href:"",onClick:s[7]||(s[7]=c(a=>l(e).generateTypeCSecret(),["prevent"]))},"[随机生成]")])])]),t("tr",null,[lt,t("td",null,[n(h,null,{default:o(()=>[n(u,{type:"text",maxlength:"8",name:"typeCLife",value:"30",style:{width:"7em"}}),n(_,null,{default:o(()=>[nt]),_:1})]),_:1}),st])])],512),[[r,l(e).type=="typeC"]]),p(t("tbody",null,[t("tr",null,[at,t("td",null,[n(u,{type:"text",maxlength:"40",name:"typeDSecret",modelValue:l(e).typeDSecret,"onUpdate:modelValue":s[8]||(s[8]=a=>l(e).typeDSecret=a),autocomplete:"off",class:"w-full"},null,8,["modelValue"]),t("p",ot,[i("只能包含字母、数字，长度不超过40。"),t("a",{href:"",onClick:s[9]||(s[9]=c(a=>l(e).generateTypeDSecret(),["prevent"]))},"[随机生成]")])])]),t("tr",null,[it,t("td",null,[n(u,{type:"text",maxlength:"30",name:"typeDSignParamName",value:"sign",modelValue:l(e).typeDSignParamName,"onUpdate:modelValue":s[10]||(s[10]=a=>l(e).typeDSignParamName=a),onInput:l(e).changeTypeDSignParamName,class:"w-full"},null,8,["modelValue","onInput"])])]),t("tr",null,[ut,t("td",null,[n(u,{type:"text",maxlength:"30",name:"typeDTimestampParamName",value:"t",modelValue:l(e).typeDTimestampParamName,"onUpdate:modelValue":s[11]||(s[11]=a=>l(e).typeDTimestampParamName=a),onInput:l(e).changeTypeDTimestampParamName,class:"w-full"},null,8,["modelValue","onInput"])])]),t("tr",null,[mt,t("td",null,[n(h,null,{default:o(()=>[n(u,{type:"text",maxlength:"8",name:"typeDLife",value:"30",style:{width:"7em"}}),n(_,null,{default:o(()=>[pt]),_:1})]),_:1}),rt])])],512),[[r,l(e).type=="typeD"]]),p(t("tbody",null,[t("tr",null,[dt,t("td",null,[n(L)])]),t("tr",null,[t("td",ct,[t("a",{href:"",onClick:s[12]||(s[12]=c(a=>l(e).showMoreBasicAuthOptions(),["prevent"]))},[i("更多基本认证选项"),t("i",{class:A(["ui icon angle",{up:l(e).moreBasicAuthOptionsVisible,down:!l(e).moreBasicAuthOptionsVisible}])},null,2)])])]),p(t("tr",null,[ht,t("td",null,[n(u,{type:"text",name:"basicAuthRealm",value:"",maxlength:"100",class:"w-full"})])],512),[[r,l(e).moreBasicAuthOptionsVisible]]),p(t("tr",null,[_t,t("td",null,[n(u,{type:"text",name:"basicAuthCharset",style:{width:"6em"},maxlength:"50"}),t("p",yt,[i("类似于 "),n(g,null,{default:o(()=>[i("UTF-8")]),_:1}),i(" 。 ")])])],512),[[r,l(e).moreBasicAuthOptionsVisible]])],512),[[r,l(e).type=="basicAuth"]]),p(t("tbody",null,[t("tr",null,[ft,t("td",null,[n(u,{type:"text",name:"subRequestURL",maxlength:"1024",class:"w-full"}),gt])]),t("tr",null,[Dt,t("td",null,[n(S,{name:"subRequestFollowRequest",value:1,modelValue:l(e).subRequestFollowRequest,"onUpdate:modelValue":s[13]||(s[13]=a=>l(e).subRequestFollowRequest=a)},{default:o(()=>[i("同当前请求一致")]),_:1},8,["modelValue"]),i("     "),n(S,{name:"subRequestFollowRequest",value:0,modelValue:l(e).subRequestFollowRequest,"onUpdate:modelValue":s[14]||(s[14]=a=>l(e).subRequestFollowRequest=a)},{default:o(()=>[i("自定义")]),_:1},8,["modelValue"]),p(t("div",St,[n(P),n(D,{name:"subRequestMethod"},{default:o(()=>[n(d,{value:"POST"},{default:o(()=>[i("POST")]),_:1}),n(d,{value:"GET"},{default:o(()=>[i("GET")]),_:1}),n(d,{value:"PUT"},{default:o(()=>[i("PUT")]),_:1}),n(d,{value:"HEAD"},{default:o(()=>[i("HEAD")]),_:1})]),_:1})],512),[[r,l(e).subRequestFollowRequest==0]])])])],512),[[r,l(e).type=="subRequest"]]),t("tbody",null,[t("tr",null,[t("td",Vt,[n(U)])])]),p(t("tbody",null,[t("tr",null,[Tt,t("td",null,[n(B,{name:"exts"}),t("p",xt,[i("如果不为空，则表示只有这些扩展名的文件才需要鉴权；扩展名需要包含点符号（.），比如 "),n(g,null,{default:o(()=>[i(".png")]),_:1})])])]),t("tr",null,[wt,t("td",null,[n($),bt])])],512),[[r,l(e).moreOptionsVisible]])]),_:1}),n(C)]),_:1},8,["onSuccess"])]),_:1}))}};export{le as default};
