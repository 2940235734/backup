import{o as a,c as b,w as s,g as t,b as o,u as l,h as r,F as k,a as u,f as c,t as i,i as f}from"./app-DjYJfrF8.js";import{i as v,c as g}from"./app-C1XH7PtB.js";/* empty css            */import{N as T}from"./app-D3zb-bsA.js";import{_ as w}from"./app-BV2rgPOF.js";import{L as h}from"./app-BOEypwYT.js";import{_ as d}from"./app-BMxA-yCD.js";import{C as P}from"./app-DDT8_Lbs.js";import{C as _}from"./app-FYI4UQYe.js";import"./app-BUF1jp6-.js";import"./app-C957O1lC.js";import"./app-DPFGrewt.js";import"./app-DPmFMerm.js";import"./app-BZpo3xeX.js";import"./app-3rCQf5Hi.js";import"./app-C8URsP3D.js";import"./app-__35K3dS.js";import"./app-l8Q5NmGb.js";import"./app-CMrnp7LG.js";import"./app-CQoUplHC.js";import"./app-DYZ72m3h.js";import"./app-zaKueCu1.js";import"./app-CXb0aRmx.js";import"./app-PXD802g2.js";import"./app-DqyEP-Ic.js";import"./app-Bx1vQSc6.js";import"./app-g_ZjR39Z.js";import"./app-BOdfUA0H.js";function x(){const{utils:m,Tea:n}=v(this);this.payBill=function(p){m.confirm("确定要支付此账单吗？ ",function(){this.$post(".pay").params({billId:p}).success(function(){m.success("支付成功",function(){m.reload()})})})}}const N={__name:"@menu",props:["ctx"],setup(m){return(n,p)=>(a(),b(T,{"content-name":m.ctx.bill.code,"parent-items":[["费用账单","/finance/bills"]]},{tabs:s(()=>[]),_:1},8,["content-name"]))}},C={key:0},F={key:0},V={key:1},$={key:0,class:"small grey"},G={key:0,class:"green"},M={key:1,class:"disabled"},L={key:0,class:"disabled",title:"已支付，无需重复支付"},R={key:1},S={key:1,class:"disabled"},U={key:0},z=u("h5",{class:"group-header"},"网站/套餐子账单",-1),D={key:0},E={key:1,class:"disabled"},I={key:0},Y={key:0,class:"small grey"},j={key:1,class:"small grey"},q={key:1},A={key:0,class:"small grey"},H={key:1,class:"small grey"},J={key:2,class:"small grey"},K={class:"grey small"},O={key:1},Q=u("h5",{class:"group-header"},"流量子账单",-1),W={key:0},X={key:1,class:"disabled"},Z={key:0},B={key:1,class:"disabled"},ee={key:0},ae={key:1,class:"disabled"},se={key:0},te={key:1,class:"disabled"},ne={key:0},oe={key:1,class:"disabled"},le={key:0},ie={key:1},Ue={__name:"bill",setup(m){const n=g(new x);return(p,y)=>(a(),t(k,null,[o(N,{ctx:l(n)},null,8,["ctx"]),o(P,null,{default:s(()=>[o(_,null,{name:s(()=>[c("账单编号")]),value:s(()=>[c(i(l(n).bill.code),1)]),_:1}),o(_,null,{name:s(()=>[c("结算周期")]),value:s(()=>[c(i(l(n).bill.pricePeriodName),1)]),_:1}),o(_,null,{name:s(()=>[c("月份")]),value:s(()=>[c(i(l(n).bill.month),1)]),_:1}),l(n).bill.pricePeriod=="daily"?(a(),b(_,{key:0},{name:s(()=>[c("日期")]),value:s(()=>[l(n).bill.pricePeriod=="daily"?(a(),t("span",C,[l(n).bill.dayFrom==l(n).bill.dayTo?(a(),t("span",F,i(l(n).bill.dayFrom),1)):(a(),t("span",V,i(l(n).bill.dayFrom)+" - "+i(l(n).bill.dayTo),1))])):r("",!0)]),_:1})):r("",!0),o(_,null,{name:s(()=>[c("项目")]),value:s(()=>[c(i(l(n).bill.typeName),1)]),_:1}),o(_,null,{name:s(()=>[c("金额")]),value:s(()=>[c("¥"+i(l(n).bill.amount)+"元 ",1),l(n).bill.canPay?r("",!0):(a(),t("span",$," （预估）"))]),_:1}),o(_,null,{name:s(()=>[c("描述")]),value:s(()=>[c(i(l(n).bill.description),1)]),_:1}),o(_,null,{name:s(()=>[c("是否已支付")]),value:s(()=>[l(n).bill.isPaid?(a(),t("span",G,"Y")):(a(),t("span",M,"N"))]),_:1}),o(_,null,{name:s(()=>[c("操作")]),value:s(()=>[l(n).bill.isPaid?(a(),t("span",L,"已支付")):(a(),t("span",R,[l(n).bill.canPay?(a(),t("a",{key:0,href:"",onClick:y[0]||(y[0]=f(e=>l(n).payBill(l(n).bill.id),["prevent"]))},"支付")):(a(),t("span",S))]))]),_:1})]),_:1}),l(n).serverBills.length>0?(a(),t("div",U,[z,o(h,{items:l(n).serverBills},{default:s(()=>[o(d,{header:"网站",class:"name-column"},{body:s(({data:e})=>[e.server!=null&&e.server.id>0?(a(),t("span",D,i(e.server.name),1)):(a(),t("span",E,"-"))]),_:1}),o(d,{header:"套餐",class:"name-column"},{body:s(({data:e})=>[e.plan.id>0?(a(),t("span",I,[c(i(e.plan.name)+" ",1),e.plan.priceType=="traffic"?(a(),t("span",Y,"（按流量计费）")):r("",!0),e.plan.priceType=="bandwidth"?(a(),t("span",j,"（按带宽计费）")):r("",!0)])):(a(),t("span",q,[c("默认 "),e.priceType=="traffic"?(a(),t("span",A,"（按流量计费）")):r("",!0),e.priceType=="bandwidth"?(a(),t("span",H,"（按带宽计费）")):r("",!0),e.priceType.length==0?(a(),t("span",J,"（按区域流量计费）")):r("",!0)]))]),_:1}),o(d,{header:"流量",class:"normal-value-column"},{body:s(({data:e})=>[c(i(e.traffic),1)]),_:1}),o(d,{header:"带宽",class:"normal-value-column"},{body:s(({data:e})=>[c(i(e.bandwidthPercentileSize),1),u("span",K,"（"+i(e.bandwidthPercentile)+"th）",1)]),_:1}),o(d,{header:"费用",class:"normal-value-column"},{body:s(({data:e})=>[c(i(e.amount)+"元 ",1)]),_:1}),o(d,{header:"更新时间",class:"normal-value-column"},{body:s(({data:e})=>[c(i(e.createdTime),1)]),_:1})]),_:1},8,["items"]),o(w,{data:l(n).page},null,8,["data"])])):r("",!0),l(n).trafficBills.length>0?(a(),t("div",O,[Q,o(h,{items:l(n).trafficBills},{default:s(()=>[o(d,{header:"区域",class:"normal-value-column"},{body:s(({data:e})=>[e.region.id>0?(a(),t("span",W,i(e.region.name),1)):(a(),t("span",X,"[未分区]"))]),_:1}),o(d,{header:"计费方式",class:"normal-value-column"},{body:s(({data:e})=>[c(i(e.priceTypeName),1)]),_:1}),o(d,{header:"计费带宽",class:"normal-value-column"},{body:s(({data:e})=>[e.priceType=="bandwidth"?(a(),t("span",Z,i(e.bandwidthMB),1)):(a(),t("span",B,"-"))]),_:1}),o(d,{header:"带宽百分位",class:"normal-value-column"},{body:s(({data:e})=>[e.priceType=="bandwidth"?(a(),t("span",ee,i(e.bandwidthPercentile)+"th",1)):(a(),t("span",ae,"-"))]),_:1}),o(d,{header:"计费流量",class:"normal-value-column"},{body:s(({data:e})=>[e.priceType=="traffic"?(a(),t("span",se,i(e.trafficGB),1)):(a(),t("span",te,"-"))]),_:1}),o(d,{header:"流量包使用",class:"normal-value-column"},{body:s(({data:e})=>[e.priceType=="traffic"&&e.trafficPackageGB!="0B"?(a(),t("span",ne,i(e.trafficPackageGB),1)):(a(),t("span",oe,"-"))]),_:1}),o(d,{header:"单位价格",class:"normal-value-column"},{body:s(({data:e})=>[e.priceType=="bandwidth"?(a(),t("span",le,i(e.pricePerUnit)+"元/Mbps",1)):r("",!0),e.priceType=="traffic"?(a(),t("span",ie,i(e.pricePerUnit)+"元/GiB",1)):r("",!0)]),_:1}),o(d,{header:"总价格",class:"normal-value-column"},{body:s(({data:e})=>[c(i(e.amount)+"元 ",1)]),_:1})]),_:1},8,["items"])])):r("",!0)],64))}};export{Ue as default};
