import{o,c as s,w as e,a as n,b as a,u as r,s as m}from"./app-DjYJfrF8.js";import{i as c,c as h}from"./app-C1XH7PtB.js";import{m as l,_ as p}from"./app-C7RGQoHz.js";import{_ as d}from"./app-uEDbJdNm.js";import"./app-CqkleIqs.js";import"./app-7eZCTR6c.js";import"./app-CQoUplHC.js";import"./app-BWoLk5mp.js";import"./app-DqyEP-Ic.js";import"./app-__35K3dS.js";import"./app-DA-qpgNO.js";import"./app-tVxlBux4.js";import"./app-mO6x4u2P.js";import"./app-DYZ72m3h.js";import"./app-C6feLE3_.js";import"./app-CMrnp7LG.js";import"./app-CMoUOWYK.js";import"./app-BOdfUA0H.js";import"./app-DbdLQ04Q.js";import"./app-FYI4UQYe.js";function f(){c(this),this.encodedFrom=window.encodeURIComponent(this.from),this.showOTP=!1,this.isSubmitting=!1,this.$delay(function(){this.changePassword()}),this.usernamePlaceholder="请输入用户名";var t=[];this.emailCanLogin&&t.push("邮箱"),this.mobileCanLogin&&t.push("手机号码"),t.length>0&&(this.usernamePlaceholder+="/"+t.join("/")),this.changeUsername=function(){},this.changePassword=function(){this.passwordMd5=l(this.password.trim())},this.moreOptionsVisible=!1,this.showMoreOptions=function(){this.moreOptionsVisible=!this.moreOptionsVisible},this.submitBefore=function(){this.isSubmitting=!0},this.submitDone=function(){this.isSubmitting=!1},this.submitSuccess=function(i){localStorage.setItem("sid",i.data.localSid),localStorage.setItem("ip",i.data.ip),this.$delay(function(){if(i.data.requireOTP){window.location="/login/otp?sid="+i.data.sid+"&remember="+(i.data.remember?1:0)+"&from="+window.encodeURIComponent(this.from);return}this.from.length==0?window.location="/dashboard":window.location=this.from})}}const u={class:"form-box"},w={__name:"index",setup(t){const i=h(new f);return(_,b)=>(o(),s(d,null,{default:e(()=>[n("div",u,[a(p,{ctx:r(i)},null,8,["ctx"])])]),_:1}))}};m({app:w,useRouter:!1});
