import{r as C,o as s,c as p,w as d,a as o,f as n,u as t,g as l,t as u,h as c,b as r,i as f,d as _,e as h}from"./app-DjYJfrF8.js";import{P as M}from"./app-4o4XE0Ov.js";import{i as g,c as T}from"./app-C1XH7PtB.js";import{_ as V}from"./app-tVxlBux4.js";import{_ as w}from"./app-mO6x4u2P.js";import{_ as N,a as x}from"./app-BpjMg_gY.js";import{_ as y}from"./app-vzJisQQP.js";import{_ as A}from"./app-D_zujAYk.js";import{_ as E}from"./app-DNZHd3zm.js";import{_ as $}from"./app-BWoLk5mp.js";import{_ as v}from"./app-DsXmtRco.js";import{T as k}from"./app-zu0W3Zfp.js";import{D as I}from"./app-DeStKpGO.js";import"./app-CXXoRFML.js";import"./app-DYZ72m3h.js";import"./app-3rCQf5Hi.js";import"./app-C8URsP3D.js";import"./app-__35K3dS.js";import"./app-l8Q5NmGb.js";import"./app-CMrnp7LG.js";import"./app-CQoUplHC.js";import"./app-zaKueCu1.js";import"./app-DqyEP-Ic.js";import"./app-DA-qpgNO.js";import"./app-g_ZjR39Z.js";import"./app-B3JHJgWn.js";import"./app-C6feLE3_.js";import"./app-CMoUOWYK.js";import"./app-DDxM4xJi.js";function B(){g(this),this.success=this.$NotifyPopup,this.isCA=this.certConfig.isCA?1:0,this.textMode=!1,this.switchTextMode=function(){this.textMode=!this.textMode,this.textMode&&this.$delay(function(){this.$refs.certTextField.focus()})}}const F={key:0,class:"!font-normal text-base text-gray-500"},R={key:0,class:"not-italic"},b=["value"],P=["value"],S=o("td",{class:"title"},"证书说明 *",-1),D=o("p",{class:"comment"},"可以简单说明证书的用途。",-1),G=o("td",null,"证书类型",-1),O={key:0},U={key:1},z={class:"comment"},K={key:0},Y={key:1},L={key:0},j={key:0},q={key:1},H={class:"comment"},J={key:0},Q={key:1},W={key:0},X={colspan:"2"},Z=o("td",null,"详细说明",-1),ee=o("td",null,"启用当前证书",-1),Be={__name:"updatePopup",setup(te){const m=C(),e=T(new B,{refs:{certTextField:m}});return(oe,i)=>(s(),p(M,null,{default:d(()=>[o("header",null,[n("修改证书"),o("span",null,[t(e).certConfig.dnsNames!=null&&t(e).certConfig.dnsNames.length>0?(s(),l("span",F,[n("  （包含"+u(t(e).certConfig.dnsNames[0]),1),t(e).certConfig.dnsNames.length>1?(s(),l("var",R,"等"+u(t(e).certConfig.dnsNames.length)+"个",1)):c("",!0),n("域名）")])):c("",!0)])]),r(V,{action:"$",onSuccess:t(e).success},{default:d(()=>[o("input",{type:"hidden",name:"certId",value:t(e).certConfig.id},null,8,b),o("input",{type:"hidden",name:"textMode",value:t(e).textMode?1:0},null,8,P),r(I,null,{default:d(()=>[o("tbody",null,[o("tr",null,[S,o("td",null,[r(w,{name:"name",maxlength:"100",autofocus:"",modelValue:t(e).certConfig.name,"onUpdate:modelValue":i[0]||(i[0]=a=>t(e).certConfig.name=a),class:"w-full"},null,8,["modelValue"]),D])]),o("tr",null,[G,o("td",null,[r(N,{name:"isCA",modelValue:t(e).isCA,"onUpdate:modelValue":i[1]||(i[1]=a=>t(e).isCA=a)},{default:d(()=>[r(x,{value:"0"},{default:d(()=>[n("加密证书")]),_:1}),r(x,{value:"1"},{default:d(()=>[n("CA证书")]),_:1})]),_:1},8,["modelValue"])])]),o("tr",null,[o("td",null,[t(e).textMode?(s(),l("span",O,"输入证书内容")):(s(),l("span",U,"选择证书文件"))]),o("td",null,[t(e).textMode?c("",!0):(s(),p(k,{key:0,type:"file",name:"certFile",accept:"application/x-pem-file, application/pkcs10, application/x-pkcs12, application/x-x509-user-cert, application/x-x509-ca-cert, application/pkix-cert, .pem"})),t(e).textMode?(s(),p(y,{key:1,class:"w-full",rows:"10",ref_key:"certTextField",ref:m,spellcheck:"false",name:"certText",placeholder:"-----BEGIN CERTIFICATE-----",style:{"font-size":"0.7em"}},null,512)):c("",!0),o("p",z,[o("a",{href:"",onClick:i[2]||(i[2]=f((...a)=>t(e).switchTextMode&&t(e).switchTextMode(...a),["prevent"]))},[n("["),t(e).textMode?(s(),l("span",Y,"上传文件")):(s(),l("span",K,"输入内容")),n("]")]),n('。文件内容中通常含有"-----BEGIN CERTIFICATE-----"类似的信息'),t(e).textMode?(s(),l("span",L,"，可以直接拖动证书文件到输入框，留空表示不修改")):c("",!0),n("。 ")])])]),_(o("tr",null,[o("td",null,[t(e).textMode?(s(),l("span",j,"输入私钥内容")):(s(),l("span",q,"选择私钥文件"))]),o("td",null,[t(e).textMode?c("",!0):(s(),p(k,{key:0,type:"file",name:"keyFile",accept:"application/pkcs8, application/x-pem-file, .key, .pem"})),t(e).textMode?(s(),p(y,{key:1,class:"w-full",rows:"10",spellcheck:"false",name:"keyText",placeholder:"-----BEGIN RSA PRIVATE KEY-----",style:{"font-size":"0.7em"}})):c("",!0),o("p",H,[o("a",{href:"",onClick:i[3]||(i[3]=f((...a)=>t(e).switchTextMode&&t(e).switchTextMode(...a),["prevent"]))},[n("["),t(e).textMode?(s(),l("span",Q,"上传文件")):(s(),l("span",J,"输入内容")),n("]")]),n('。文件内容中通常含有"-----BEGIN RSA PRIVATE KEY-----"类似的信息'),t(e).textMode?(s(),l("span",W,"，可以直接拖动证书文件到输入框，留空表示不修改")):c("",!0),n("。 ")])])],512),[[h,t(e).isCA==0]]),o("tr",null,[o("td",X,[r(A)])])]),_(o("tbody",null,[o("tr",null,[Z,o("td",null,[r(E,{rows:"3",name:"description",maxlength:"200",modelValue:t(e).certConfig.description,"onUpdate:modelValue":i[4]||(i[4]=a=>t(e).certConfig.description=a),class:"w-full"},null,8,["modelValue"])])]),o("tr",null,[ee,o("td",null,[r($,{name:"isOn",value:"1",modelValue:t(e).certConfig.isOn,"onUpdate:modelValue":i[5]||(i[5]=a=>t(e).certConfig.isOn=a)},null,8,["modelValue"])])])],512),[[h,t(e).moreOptionsVisible]])]),_:1}),r(v)]),_:1},8,["onSuccess"])]),_:1}))}};export{Be as default};
